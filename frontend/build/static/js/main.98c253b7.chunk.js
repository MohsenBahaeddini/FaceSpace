(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(n,e,t){"use strict";t.r(e);var c,r,i,o,a,s,b,d,l,j,p,x,h,u,O,g,f,m,v,y,w,S,k,F,z,q,I,E,N,T,U,A,C=t(0),J=t.n(C),M=t(20),G=t.n(M),H=t(6),P=t(4),L=t(3),R=t(2),W=Object(R.a)(c||(c=Object(L.a)(["\n    :root {\n      --primary-color: #cc5500;\n      --accent-bg-color: rgba(204, 85, 0, 0.1);\n      --page-horizontal-padding: 20px;\n      --header-height: 50px;\n      --max-content-width: 1200px;\n      --heading-font-family: 'Teko', sans-serif;\n      --user-img-width: 120px;\n    }\n\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed,\n    figure, figcaption, footer, header, hgroup,\n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        vertical-align: baseline;\n        box-sizing: border-box;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure,\n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n        line-height: 1;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: '';\n        content: none;\n    }\n    h1, h2, h3 {\n      color: var(--primary-color);\n      font-family: var(--heading-font-family);\n    }\n    h2 {\n      font-size: 28px;\n    }\n"]))),Y=t(9),_=t(1),B=Object(C.createContext)(),D=function(n){var e=n.children,t=Object(C.useState)(JSON.parse(sessionStorage.getItem("username"))),c=Object(Y.a)(t,2),r=c[0],i=c[1],o=Object(C.useState)("loading"),a=Object(Y.a)(o,2),s=a[0],b=a[1];return Object(_.jsx)(B.Provider,{value:{currentUser:r,status:s,setStatus:b,signIn:function(n){b("loading"),console.log(n),fetch("/api/signin/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n})}).then((function(n){return n.json()})).then((function(n){200===n.status&&(i(n.data),b("idle"),sessionStorage.setItem("username",JSON.stringify(n.data))),console.log(n)}))}},children:e})},K=R.b.div(r||(r=Object(L.a)(["\n  height: 45px;\n  background-color: var(--primary-color);\n  display: flex;\n  justify-content: space-between;\n"]))),Q=R.b.h3(i||(i=Object(L.a)(["\n  color: white;\n  padding: 11px 50px;\n  font-size: 24px;\n"]))),V=R.b.h2(o||(o=Object(L.a)(["\n  color: white;\n  padding: 7px 20px;\n  font-size: 36px;\n"]))),X=R.b.h3(a||(a=Object(L.a)(["\n  color: white;\n  margin-top: 2px;\n  padding: 10px 50px;\n  font-size: 24px;\n"]))),Z=(Object(R.b)(H.b)(s||(s=Object(L.a)(["\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n"]))),Object(R.b)(H.c)(b||(b=Object(L.a)(["\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n"])))),$=function(){var n=Object(C.useContext)(B),e=(n.status,n.setStatus,n.currentUser);return console.log(e),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(K,{children:[Object(_.jsx)(Z,{exact:!0,to:"/",children:Object(_.jsx)(V,{children:"Facespace"})}),!e&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Z,{exact:!0,to:"/signin",children:Object(_.jsx)(X,{children:"Sign in"})})}),e&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Q,{children:["Howdy, ",e.name]})})]})})},nn=R.b.div(d||(d=Object(L.a)(["\n  display: block;\n  margin: 20px 50px;\n"]))),en=R.b.h2(l||(l=Object(L.a)(["\n  font-size: 40px;\n"]))),tn=R.b.img(j||(j=Object(L.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 0px 3px 0 3px;\n  border: 2px solid\n    ",";\n  opacity: ",";\n  &:hover {\n    transform: scale(1.03);\n  }\n"])),(function(n){return n.isFriend?"var(--primary-color)":"#aaa"}),(function(n){return n.isFriend?"1":"0.95"})),cn=Object(R.b)(H.b)(p||(p=Object(L.a)(["\n  color: black;\n  font-weight: bold;\n  text-decoration: none;\n"]))),rn=function(){var n=Object(C.useContext)(B),e=n.status,t=(n.setStatus,n.currentUser),c=Object(C.useState)("loading"),r=Object(Y.a)(c,2),i=r[0],o=r[1],a=Object(C.useState)({}),s=Object(Y.a)(a,2),b=s[0],d=s[1],l=Object(C.useState)(!1),j=Object(Y.a)(l,2),p=(j[0],j[1]);return Object(C.useEffect)((function(){o("loading"),fetch("/api/users").then((function(n){return n.json()})).then((function(n){d(n.data),o("idle")})).catch((function(n){p(!0)}))}),[]),t&&console.log(t," newwwwwwwwwwww"),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($,{}),Object(_.jsxs)(nn,{children:[Object(_.jsx)(en,{children:"All Facespace Members"}),"idle"===i&&Object(_.jsx)(_.Fragment,{children:b.map((function(n,c){var r=!1;return console.log(t),"idle"===e&&(console.log(e,"statusssssssssssssssssss"),t.friends.some((function(e){return e===n.id}))&&(r=!0)),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(cn,{to:"/profile/".concat(n.id),children:Object(_.jsx)(tn,{isFriend:r,src:n.avatarUrl})})})}))})]})]})},on=R.b.div(x||(x=Object(L.a)(["\n  background: url(/images/facespace_bg.jpg) center;\n  background-size: cover;\n  max-width: var(max-content-width);\n  height: 100vh;\n"]))),an=R.b.div(h||(h=Object(L.a)(["\n  background-color: var(--primary-color);\n  height: var(--header-height);\n"]))),sn=Object(R.b)(H.c)(u||(u=Object(L.a)(["\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n"]))),bn=R.b.div(O||(O=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 90vh;\n"]))),dn=R.b.form(g||(g=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  background-color: rgba(234, 234, 225, 0.3);\n  padding: 50px;\n"]))),ln=R.b.input(f||(f=Object(L.a)(["\n  margin: 2px;\n  padding: 15px;\n  font-size: 16px;\n  border: none;\n  outline: none;\n  border-radius: 3px;\n  &:focus {\n    border: 1px solid var(--primary-color);\n  }\n"]))),jn=R.b.button(m||(m=Object(L.a)(["\n  margin: 2px;\n  border: none;\n  padding: 6px;\n  color: white;\n  background-color: var(--primary-color);\n  border-radius: 3px;\n  font-size: 20px;\n  font-family: var(--heading-font-family);\n"]))),pn=R.b.h2(v||(v=Object(L.a)(["\n  color: white;\n  padding: 10px 20px;\n  font-size: 36px;\n"]))),xn=function(){var n=Object(P.f)(),e=Object(C.useContext)(B),t=(e.status,e.setStatus,e.signIn);e.currentUser&&n.push("/");return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(on,{children:[Object(_.jsx)(an,{children:Object(_.jsx)(sn,{exact:!0,to:"/",children:Object(_.jsx)(pn,{children:"Facespace"})})}),Object(_.jsx)(bn,{children:Object(_.jsxs)(dn,{onSubmit:function(n){n.preventDefault(),t(n.target[0].value)},children:[Object(_.jsx)(ln,{type:"text",placeholder:"Your first name"}),Object(_.jsx)(jn,{type:"submit",children:"Submit"})]})})]})})},hn=R.b.div(y||(y=Object(L.a)(["\n  display: block;\n  background: url(/images/facespace_bg.jpg) center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  height: 300px;\n  width: 100vw;\n"]))),un=R.b.div(w||(w=Object(L.a)(["\n  display: flex;\n  margin: -110px 20px 20px 300px;\n"]))),On=R.b.img(S||(S=Object(L.a)(["\n  margin: 10px;\n  width: 200px;\n  height: 200px;\n  border: 5px solid var(--primary-color);\n"]))),gn=R.b.h2(k||(k=Object(L.a)(["\n  margin-top: 120px;\n"]))),fn=R.b.div(F||(F=Object(L.a)(["\n  background-color: var(--primary-color);\n  height: 45px;\n"]))),mn=Object(R.b)(H.c)(z||(z=Object(L.a)(["\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n"]))),vn=R.b.h2(q||(q=Object(L.a)(["\n  color: white;\n  padding: 7px 20px;\n  font-size: 36px;\n"]))),yn=R.b.h3(I||(I=Object(L.a)(["\n  font-size: 22px;\n"]))),wn=R.b.div(E||(E=Object(L.a)(["\n  margin: 40px 280px;\n  display: flex;\n  flex-direction: row;\n  padding-bottom: -100px;\n"]))),Sn=R.b.div(N||(N=Object(L.a)(["\n  /* border-top: 1px solid blue; */\n  margin: 0px -140px 0px 30px;\n"]))),kn=R.b.img(T||(T=Object(L.a)(["\n  width: 120px;\n  height: 120px;\n  border: 1px solid var(--primary-color);\n"]))),Fn=R.b.div(U||(U=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 3px;\n"]))),zn=R.b.p(A||(A=Object(L.a)(["\n  color: #222;\n  margin-top: -20px;\n  background-color: rgba(244, 244, 255, 0.4);\n  font-family: var(--heading-font-family);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  border-radius: 2px;\n  padding: 3px 25px 0px;\n"]))),qn=function(){var n=Object(C.useState)({}),e=Object(Y.a)(n,2),t=e[0],c=e[1],r=Object(C.useState)("loading"),i=Object(Y.a)(r,2),o=i[0],a=i[1],s=Object(C.useState)([]),b=Object(Y.a)(s,2),d=b[0],l=b[1],j=Object(C.useState)("loading"),p=Object(Y.a)(j,2),x=p[0],h=p[1],u=Object(C.useState)(!1),O=Object(Y.a)(u,2),g=(O[0],O[1]),f=Object(P.g)().profileId;return Object(C.useEffect)((function(){a("loading"),fetch("/api/users/".concat(f)).then((function(n){return n.json()})).then((function(n){c(n.data),a("idle")})).catch((function(n){throw g(!0),new Error("SOMETHING WENT WRONG, PLEASE TRY AGAIN",n)})),h("loading"),fetch("/api/users/").then((function(n){return n.json()})).then((function(n){l(n.data),h("idle")}))}),[f]),Object(_.jsx)(_.Fragment,{children:"idle"===o&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(fn,{children:Object(_.jsx)(mn,{exact:!0,to:"/",children:Object(_.jsx)(vn,{children:"Facespace"})})}),Object(_.jsx)(hn,{}),Object(_.jsxs)(un,{children:[Object(_.jsx)(On,{src:t.avatarUrl}),Object(_.jsx)(gn,{children:t.name})]}),Object(_.jsxs)(wn,{children:[Object(_.jsx)(Sn,{children:Object(_.jsxs)(yn,{children:[t.name,"'s Friends"]})}),x&&d.map((function(n){if(t.friends.some((function(e){return e===n.id})))return Object(_.jsxs)(Fn,{children:[Object(_.jsx)(kn,{src:n.avatarUrl}),Object(_.jsx)(zn,{children:n.name})]})}))]})]})})},In=function(){return Object(_.jsxs)(H.a,{children:[Object(_.jsx)(W,{}),Object(_.jsx)("div",{children:Object(_.jsxs)(P.c,{children:[Object(_.jsx)(P.a,{exact:!0,path:"/",children:Object(_.jsx)(rn,{})}),Object(_.jsx)(P.a,{path:"/signin",children:Object(_.jsx)(xn,{})}),Object(_.jsx)(P.a,{exact:!0,path:"/profile/:profileId",children:Object(_.jsx)(qn,{})})]})})]})};G.a.render(Object(_.jsx)(J.a.StrictMode,{children:Object(_.jsx)(D,{children:Object(_.jsx)(In,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.98c253b7.chunk.js.map